<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9PFTVDBQ4P"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-9PFTVDBQ4P");
    </script>

    <meta
      property="fb:app_id"
      content="6697495400344800"
    />

    <script>
      const formatter = new Intl.NumberFormat("ms-MY", {
        style: "currency",
        currency: "MYR",
        minimumFractionDigits: 2,
        maximumFractionDigits: 2,
      });

      function calculate() {
        let total = 0;
        let installments = 0;

        for (years = 1; years <= 9; years++) {
          let months = 12 * years;
          total = this.principal * (1 + (this.interestRate / 100) * years);
          installments = total / months;

          this.interests[years] = formatter.format(total - this.principal);
          this.total[years] = formatter.format(total);
          this.installments[years] = formatter.format(installments);
        }
      }
    </script>
  </head>

  <body>
    <div
      class="flex flex-col lg:flex-row justify-between"
      x-data="{ principal: 100000, interestRate: 2.45, total: [], installments: [], interests: [] }"
      x-init="calculate"
    >
      <div class="mt-6 w-full lg:w-1/3 p-6">
        <div>
          <h1 class="text-lg font-semibold leading-6 text-gray-900">
            Car Loan Calculator Malaysia
          </h1>
          <p class="mt-2 text-sm text-gray-700">
            Need a car but unsure about the monthly payments? This tool is here
            to help! Just pop in some details, and it'll show you how much you
            might pay every month. It's tailored just for Malaysia, so you know
            it's accurate.
          </p>
        </div>

        <div class="mt-6">
          <label
            for="principal"
            class="block text-sm font-medium leading-6 text-gray-900"
          >
            Amount to Loan
          </label>
          <div class="mt-2">
            <input
              type="number"
              step="1000"
              name="principal"
              id="principal"
              x-model="principal"
              @keyup="calculate"
              @change="calculate"
              class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
            />
          </div>
        </div>
        <div class="mt-6">
          <label
            for="interestRate"
            class="block text-sm font-medium leading-6 text-gray-900"
          >
            Interest Rate %
          </label>
          <div class="mt-2">
            <input
              type="number"
              step="0.05"
              name="interestRate"
              id="interestRate"
              x-model="interestRate"
              @keyup="calculate"
              @change="calculate"
              class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
            />
          </div>
        </div>
        <div class="mt-6">
          <button
            type="button"
            @click="calculate"
            class="block w-full rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 uppercase"
          >
            Calculate
          </button>
        </div>

        <div class="mt-8">
          <div class="text-sm text-gray-400 font-semibold">Interest rates:</div>
          <div class="text-xs text-gray-400 mt-1">
            <div>New vehicle: Ranging from 2.2% p.a. to 3.5% p.a.</div>
            <div>Used vehicle: Ranging from 3.5% p.a. to 4.5% p.a.</div>
          </div>
        </div>

        <div class="mt-8 text-gray-700 text-xs">
          Source codes available on
          <a
            href="https://github.com/jianjye/calculators"
            class="text-cyan-500 underline"
            >Github</a
          >.
        </div>
      </div>

      <div class="px-4 sm:px-6 lg:px-8 w-full lg:w-3/4">
        <div class="mt-8 flow-root">
          <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
            <div
              class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"
            >
              <table class="min-w-full divide-y divide-gray-300">
                <thead>
                  <tr>
                    <th
                      scope="col"
                      class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0"
                    >
                      Loan Period (Years)
                    </th>
                    <th
                      scope="col"
                      class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900"
                    >
                      Total Payment
                    </th>
                    <th
                      scope="col"
                      class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900"
                    >
                      Interest Charges
                    </th>
                    <th
                      scope="col"
                      class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900"
                    >
                      Monthly Instalment
                    </th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                  <tr>
                    <td
                      class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                    >
                      1
                    </td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="total[1]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="interests[1]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="installments[1]"
                    ></td>
                  </tr>
                  <tr>
                    <td
                      class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                    >
                      2
                    </td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="total[2]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="interests[2]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="installments[2]"
                    ></td>
                  </tr>
                  <tr>
                    <td
                      class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                    >
                      3
                    </td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="total[3]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="interests[3]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="installments[3]"
                    ></td>
                  </tr>
                  <tr>
                    <td
                      class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                    >
                      4
                    </td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="total[4]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="interests[4]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="installments[4]"
                    ></td>
                  </tr>
                  <tr>
                    <td
                      class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                    >
                      5
                    </td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="total[5]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="interests[5]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="installments[5]"
                    ></td>
                  </tr>
                  <tr>
                    <td
                      class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                    >
                      6
                    </td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="total[6]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="interests[6]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="installments[6]"
                    ></td>
                  </tr>
                  <tr>
                    <td
                      class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                    >
                      7
                    </td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="total[7]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="interests[7]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="installments[7]"
                    ></td>
                  </tr>
                  <tr>
                    <td
                      class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                    >
                      8
                    </td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="total[8]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="interests[8]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="installments[8]"
                    ></td>
                  </tr>
                  <tr>
                    <td
                      class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                    >
                      9
                    </td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="total[9]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="interests[9]"
                    ></td>
                    <td
                      class="whitespace-nowrap px-3 py-4 text-sm text-gray-500"
                      x-text="installments[9]"
                    ></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-10 max-w-[600px] mx-auto p-6">
      <div
        class="fb-comments"
        data-href="https://calculators.jianjye.com/car-loan-calculator-malaysia.html"
        data-width="100%"
        data-numposts="50"
        data-order-by="reverse_time"
      ></div>
    </div>

    <!-- FB App -->
    <div id="fb-root"></div>
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v18.0&appId=6697495400344800"
      nonce="HF4pyAdU"
    ></script>
  </body>
</html>
